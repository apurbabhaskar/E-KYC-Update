  <div class="content-wrapper">   
        <!-- Nav tabs -->
      <div class="custom-default-tabs whitetext">
        <ul class="nav nav-tabs" role="tablist">
          <li role="presentation" >
            <a href="#home" aria-controls="home" role="tab" data-toggle="tab">Home</a>
          </li>
          <li role="presentation" class="active">
            <a href="#master" aria-controls="master" role="tab" data-toggle="tab">Entity Master</a>
          </li>
          <li role="presentation">
            <a href="#inbox" aria-controls="inbox" role="tab" data-toggle="tab">My Inbox</a>
          </li>
          <li role="presentation">
            <a href="#team_inbox" aria-controls="team_inbox" role="tab" data-toggle="tab">Team Inbox</a>
          </li>
          <li role="presentation">
            <a href="#team_email" aria-controls="team_email" role="tab" data-toggle="tab">Team Email Inbox</a>
          </li>
          <li role="presentation">
            <a href="#reports" aria-controls="reports" role="tab" data-toggle="tab">Reports</a>
          </li>
          <li role="presentation">
            <a href="#admin" aria-controls="admin" role="tab" data-toggle="tab">Admin</a>
          </li>
        </ul>
      </div>
      <br/>
      <!-- Tab panes -->
      <div class="custom-block white-tabs rounded">
        <div class="row">
          
              <div class="col-xs-12 col-sm-12">
              <h3>Entity Master</h3>
              </div>
              <div class="col-xs-9 col-sm-9">
                  <div class="inner-addon right-addon">
                      <i class="glyphicon glyphicon-search"></i>
                      <input type="text" name="SearchStr" class="form-control" placeholder="Search Client ID or Client Name or Client Location or Case ID" aria-describedby="basic-addon1" [(ngModel)]="EntitySearchStr">
                    </div>                  
              </div>
              <div class="col-xs-3 col-sm-3">
                  <button class="btn btn-custom-default" data-toggle="modal" data-target=".bs-example-modal-lg" ><b>Advance Search </b>
                  <i class="fa fa-search"></i>
                </button>
              </div>            
            
                <div class="col-xs-7 col-sm-7">
                  <span class="tag label-tag label-tag-danger label-tag-outlined" *ngIf="AdvClientID !=''">
                    <span>Client ID : {{AdvClientID}} </span>
                    <a><i class="remove glyphicon glyphicon-remove-sign glyphicon-white" (click)="RemoveAdvSearch('AdvClientID')"></i></a> 
                  </span>
                  <span class="tag label-tag label-tag-danger label-tag-outlined" *ngIf="AdvClientName !=''">
                    <span>Client Name : {{AdvClientName}}</span>
                    <a><i class="remove glyphicon glyphicon-remove-sign glyphicon-white" (click)="RemoveAdvSearch('AdvClientName')"></i></a> 
                  </span>
                  <span class="tag label-tag label-tag-danger label-tag-outlined" *ngIf="AdvClientLocation !=''">
                      <span>Client Location : {{AdvClientLocation}}</span>
                      <a><i class="remove glyphicon glyphicon-remove-sign glyphicon-white" (click)="RemoveAdvSearch('AdvClientLocation')"></i></a> 
                  </span>
                  <span class="tag label-tag label-tag-danger label-tag-outlined" *ngIf="AdvCaseId !=''">
                    <span>Case ID : {{AdvCaseId}}</span>
                    <a><i class="remove glyphicon glyphicon-remove-sign glyphicon-white" (click)="RemoveAdvSearch('AdvCaseId')"></i></a> 
                  </span>
                </div>
                <div class="col-xs-4 col-sm-4">
                  <button class="btn btn-danger btn-sm" (click)="CancelAdvSearch()" *ngIf="AdvClientID !='' || AdvClientName !=''|| AdvClientLocation !='' || AdvCaseId !=''" >Clear all 
                    <i class="fa fa-times"></i>
                  </button>
                </div>
            <br/>

         
          
        </div>
        <br/>
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <!-- <div class="table-responsive fixed-table-header">
                  <table class="table table-striped custom-table borderless">
                    <thead>
                      <tr>
                          <th style="text-align: right;">
                          
                          </th>
                        <th style="text-align: center;">
                            
                          Client ID
                          <i class="fa fa-sort" aria-hidden="true"></i>
                        </th>
                        <th style="text-align: center;">
                          Client Name
                          <i class="fa fa-sort" aria-hidden="true"></i>
                        </th>
                        <th style="text-align: center;">
                          Client Type
                          <i class="fa fa-sort" aria-hidden="true"></i>
                        </th>
                        <th style="text-align: center;">
                            Client Location
                            <i class="fa fa-sort" aria-hidden="true"></i>
                        </th>
                        <th style="text-align: center;">
                            Event In Progress
                            <i class="fa fa-sort" aria-hidden="true"></i>
                        </th>
                        <th style="text-align: center;">
                            Created By
                            <i class="fa fa-sort" aria-hidden="true"></i>
                        </th>
                        <th style="text-align: center;">
                          
                        </th>
                      </tr>
                    </thead>
          
                    <tbody>                      
                      <tr *ngFor="let item of entitylist">
                        <td class="panel-title pointer" data-toggle="collapse"  href="#123" aria-expanded="true"
                        aria-controls="collapseThree" style="text-align: right;">
                        <i class="fa fa-angle-right arrow" aria-hidden="true"></i>
                        </td>
                        
                        <td style="text-align: center;">
                          {{item.clientid}}
                        </td>
                        <td style="text-align: center;">
                          {{item.client_name}}
                        </td>
                        <td style="text-align: center;">
                            {{item.client_type}}
                        </td>
                        <td style="text-align: center;">
                              {{item.client_location}}
                        </td>
                        <td style="text-align: center;">
                            {{item.event_status}}
                        </td>
                        <td style="text-align: center;">
                          {{item.case_created_by}}
                        </td>
                        <td style="text-align: center;">
                          <a style="cursor: pointer" (click)="GetRecordById(item)"> <i class="fa fa-pencil-square-o"></i> </a>
                        </td>
                      </tr>
                      <tr>
                        <td colspan="6">
                          <table class="table table-striped custom-table borderless">
                            <thead>
                              <tr>
                                  <th style="text-align: center;">                            
                                      Case ID
                                      <i class="fa fa-sort" aria-hidden="true"></i>
                                    </th>
                                    <th style="text-align: center;">                            
                                      Case Type
                                      <i class="fa fa-sort" aria-hidden="true"></i>
                                    </th>
                                    <th style="text-align: center;">                            
                                      Case Status
                                      <i class="fa fa-sort" aria-hidden="true"></i>
                                    </th>
                                    <th style="text-align: center;">                            
                                      Business Unit
                                      <i class="fa fa-sort" aria-hidden="true"></i>
                                    </th>
                                    <th style="text-align: center;">                            
                                      Updated By
                                      <i class="fa fa-sort" aria-hidden="true"></i>
                                    </th>
                                    <th style="text-align: center;">                            
                                      Updated Date
                                      <i class="fa fa-sort" aria-hidden="true"></i>
                                    </th>
                                    <th style="text-align: center;">                            
                                      Created By
                                      <i class="fa fa-sort" aria-hidden="true"></i>
                                    </th>

                              </tr>
                            </thead>
                              <tbody>
                                  <tr *ngFor="let caseitem of item.caselist">
                                      <td style="text-align: center;">
                                        {{caseitem.caseid}}
                                      </td>
                                      <td style="text-align: center;">
                                        {{caseitem.case_type}}
                                      </td>
                                      <td style="text-align: center;">
                                         {{caseitem.case_stage}}
                                      </td>
                                      <td style="text-align: center;">
                                        {{caseitem.business_unit}}
                                      </td>
                                      <td style="text-align: center;">
                                        {{caseitem.case_updated_by}}
                                      </td>
                                      <td style="text-align: center;">
                                        {{caseitem.case_updated_date}}
                                      </td>
                                      <td style="text-align: center;">
                                        {{caseitem.case_created_by}}
                                      </td>
                                  </tr>
                              </tbody>                            
                          </table>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-md-12">
                  <ngb-pagination [collectionSize]="_totalnoofrows" [(page)]="pagenumber" [boundaryLinks]="true" (pageChange)="pageChanged($event)" class="pull-right"></ngb-pagination>
                </div> -->
                
                <!-- <div class="panel-default">
                <div class="panel-heading" role="tab" id="headingThree">
                    <h5 class="panel-title">
                      <div class="col-xs-1"></div>
                      <div class="col-xs-2">Client ID</div>
                      <div class="col-xs-2">Client Name</div>
                      <div class="col-xs-2">Client Type</div>
                      <div class="col-xs-2">Client Location</div>
                      <div class="col-xs-2">Event in Progress</div>
                      <div class="col-xs-2">Created By</div>
                      <div class="col-xs-1"></div>
                    </h5>
                </div>
                </div> -->
              
                <div class="row">  
                    <div class="panel panel-default">
                        <div class="panel-heading">
                          <h3 class="panel-title">
                          
                          <div class="col-xs-2">Client ID <i class="fa fa-sort" aria-hidden="true"></i></div>
                          <div class="col-xs-2">Client Name <i class="fa fa-sort" aria-hidden="true"></i></div>
                          <div class="col-xs-2">Client Type <i class="fa fa-sort" aria-hidden="true"></i></div>
                          <div class="col-xs-2">Client Location <i class="fa fa-sort" aria-hidden="true"></i></div>
                          <div class="col-xs-2">Event in Progress<i class="fa fa-sort" aria-hidden="true"></i></div>
                          <div class="col-xs-2">Created By <i class="fa fa-sort" aria-hidden="true"></i></div>
                          <!-- <div class="col-xs-1"></div> -->
                          <br/>
                          <br/>
                          </h3>
                        </div>
                      
                  
                      <div class="panel-body">
                        <div class="panel-group" [attr.id]="'accordion_' + i" role="tablist" aria-multiselectable="true" 
                        *ngFor="let item of entitylist; let i= index;">
                            <div class="panel panel-default" style="border: 0;">                        
                              <div role="tab" id="'headingThree'+ i">                                
                                <h4 class="panel-title pointer collapsed" [attr.data-parent]="'#accordion_' + i" data-toggle="collapse"  [attr.href]="'#collapseOne_' + i" 
                                  aria-controls="collapseThree">
                                  <div class="col-xs-1">
                                    <i class="fa fa-angle-right arrow" aria-hidden="true"></i> 
                                    <!-- <i class="fa fa-plus arrow" aria-hidden="true"></i> -->
                                  </div>
                                </h4>
                                  <div class="col-xs-1">{{item.clientid}}</div>
                                  <div class="col-xs-2">{{item.client_name}}</div>
                                  <div class="col-xs-2">{{item.client_type}}</div>
                                  <div class="col-xs-2">{{item.client_location}}</div>
                                  <div class="col-xs-2" [ngClass]="{'text-success': item.event_status=='Yes','text-danger': item.event_status=='No'}" ><b><li>{{item.event_status}}</li></b></div>
                                  <div class="col-xs-1">{{item.case_created_by}}</div>
                                  <div class="col-xs-1"><a style="cursor: pointer" (click)="GetRecordByEntity(item)"> <i class="fa fa-external-link"></i> </a></div>
                                
                                <br/>
                                <br/>
                              </div>
                              
                              
                              <div [attr.id]="'collapseOne_' + i" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <table class="table table-striped custom-table borderless">
                                        <thead>
                                          <tr>
                                              <th style="text-align: center;">                            
                                                  Case ID
                                                  <i class="fa fa-sort" aria-hidden="true"></i>
                                                </th>
                                                <th style="text-align: center;">                            
                                                  Case Type
                                                  <i class="fa fa-sort" aria-hidden="true"></i>
                                                </th>
                                                <th style="text-align: center;">                            
                                                  Case Status
                                                  <i class="fa fa-sort" aria-hidden="true"></i>
                                                </th>
                                                <th style="text-align: center;">                            
                                                  Business Unit
                                                  <i class="fa fa-sort" aria-hidden="true"></i>
                                                </th>
                                                <th style="text-align: center;">                            
                                                  Updated By
                                                  <i class="fa fa-sort" aria-hidden="true"></i>
                                                </th>
                                                <th style="text-align: center;">                            
                                                  Updated Date
                                                  <i class="fa fa-sort" aria-hidden="true"></i>
                                                </th>
                                                <th style="text-align: center;">                            
                                                  Created By
                                                  <i class="fa fa-sort" aria-hidden="true"></i>
                                                </th>
                                                <th style="text-align: center;">  
                                                </th>
            
                                          </tr>
                                        </thead>
                                          <tbody>
                                              <tr *ngFor="let caseitem of item.caselist">
                                                  <td style="text-align: center;">
                                                    {{caseitem.caseid}}
                                                  </td>
                                                  <td style="text-align: center;">
                                                    {{caseitem.case_type}}
                                                  </td>
                                                  <td style="text-align: center;">
                                                    {{caseitem.case_stage}}
                                                  </td>
                                                  <td style="text-align: center;">
                                                    {{caseitem.business_unit}}
                                                  </td>
                                                  <td style="text-align: center;">
                                                    {{caseitem.case_updated_by}}
                                                  </td>
                                                  <td style="text-align: center;">
                                                    {{caseitem.case_updated_date}}
                                                  </td>
                                                  <td style="text-align: center;">
                                                    {{caseitem.case_created_by}}
                                                  </td>
                                                  <td style="text-align: center;">
                                                      <a style="cursor: pointer" (click)="GetRecordById(item)"> <i class="fa fa-external-link"></i> </a>
                                                  </td>
                                              </tr>
                                          </tbody>                            
                                    </table>
                                </div>
                              </div>
                            </div>
                            
                        </div>
                        </div>
                  </div> 
                </div>
        </div>
      </div>
      
        <!--</div>-->


        <!-- Normal Modal -->
  <div class="modal fade bs-example-modal-lg" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog  modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <h4 class="modal-title" id="myModalLabel">Advance Search Details</h4>
        </div>
        <div class="modal-body">
          <form>
            <div class="row">
              <div class="form-group col-sm-6">
                <div class="col-sm-4">
                  <label for="recipient-name" class="control-label">Client ID</label>
                </div>
                <div class="col-sm-8">
                    <input type="text" class="form-control" name="clientid" id="clientid" placeholder="Enter Client Id" [(ngModel)]="AdvClientID" #clientid="ngModel">
                </div>
              </div>
              <div class="form-group col-sm-6">
                  <div class="col-sm-4">
                    <label for="recipient-name" class="control-label">Client Name</label>
                  </div>
                  <div class="col-sm-8">
                      <input type="text" class="form-control" name="clientname" id="clientname" placeholder="Enter Client Name" [(ngModel)]="AdvClientName" #clientname="ngModel">
                  </div>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-sm-6">
                  <div class="col-sm-4">
                    <label for="recipient-name" class="control-label">Client Location</label>
                  </div>
                  <div class="col-sm-8">
                      <input type="text" class="form-control" name="clientlocation" id="clientlocation" placeholder="Enter Location" [(ngModel)]="AdvClientLocation" #clientlocation="ngModel">
                  </div>
                </div>
                <div class="form-group col-sm-6">
                    <div class="col-sm-4">
                      <label for="recipient-name" class="control-label">Case ID</label>
                    </div>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" name="caseid" id="caseid" placeholder="Id" [(ngModel)]="AdvCaseId" #userid="ngModel">
                    </div>
                  </div>
              </div>
          </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-custom-default btn-outline" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-custom-primary" data-dismiss="modal" (click)="AdvSearch()">Apply</button>
          
        </div>
      </div>
    </div>
  </div>
    
  </div>

